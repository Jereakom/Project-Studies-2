<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Othello</title>
  </head>
  <body>
    <h1>Othello</h1>
    <canvas id="game" width="400" height="400" style="border:1px solid #FFFFFF;background-color:#33cc33;" onclick="drawDisk(event, boardString)"></canvas>
  </body>
  <script src="othello.js"></script>
  <script type="text/javascript" language="javascript">
  
  var bw = 400;
  var bh = 400;
  var p = 0;
  var canvas = document.getElementById("game");
  var context = canvas.getContext("2d");
  function drawBoard(){
  for (var x = 0; x <= bw; x += 50) {
      context.moveTo(0.5 + x + p, p);
      context.lineTo(0.5 + x + p, bh + p);
  }
  for (var x = 0; x <= bh; x += 50) {
      context.moveTo(p, 0.5 + x + p);
      context.lineTo(bw + p, 0.5 + x + p);
  }
  context.strokeStyle = "black";
  context.stroke();

  }
  drawBoard();
  function getMousePos(canvas, evt) {
    var rect = canvas.getBoundingClientRect();
    return {
      x: evt.clientX - rect.left,
      y: evt.clientY - rect.top
    };
  }
  function drawDisk(e, board) {
    var pos = getMousePos(canvas, e);
    var posx = pos.x;
    var posy = pos.y;
    var x;
    var y = 25;
    var disk;
    function draw(y, istart, iend) {
      x = 25;
      for (var i = istart; i <= iend; i++) {
        disk = board.charAt(i);
        if(disk == "1") {
          context.beginPath();
          context.arc(x, y, 25, 0, Math.PI*2, true);
          context.closePath();
          context.fillStyle = "#FFFFFF";
          context.fill();
        } else if(disk == "2") {
          context.beginPath();
          context.arc(x, y, 25, 0, Math.PI*2, true);
          context.closePath();
          context.fillStyle = "#000000";
          context.fill();
        }
        x = x + 50;
    }
  }
  draw(y, 0, 7);
  y = y + 50;
  draw(y, 8, 15);
  y = y + 50;
  draw(y, 16, 23);
  y = y + 50;
  draw(y, 24, 31);
  y = y + 50;
  draw(y, 32, 39);
  y = y + 50;
  draw(y, 40, 47);
  y = y + 50;
  draw(y, 48, 55);
  y = y + 50;
  draw(y, 56, board.length);
  y = y + 50;
    if(posx <= 50) {
      x = 25;
    } else if(posx <= 100) {
      x = 75;
    } else if(posx <= 150) {
      x = 125;
    } else if(posx <= 200) {
      x = 175;
    } else if(posx <= 250) {
      x = 225;
    } else if(posx <= 300) {
      x = 275;
    } else if(posx <= 350) {
      x = 325;
    } else if(posx <= 400) {
      x = 375;
    }
    if(posy <= 50) {
      y = 25;
    } else if(posy <= 100) {
      y = 75;
    } else if(posy <= 150) {
      y = 125;
    } else if(posy <= 200) {
      y = 175;
    } else if(posy <= 250) {
      y = 225;
    } else if(posy <= 300) {
      y = 275;
    } else if(posy <= 350) {
      y = 325;
    } else if(posy <= 400) {
      y = 375;
    }
    context.beginPath();
    
    context.arc(x, y, 25, 0, Math.PI*2, true);
    context.closePath();
    context.fillStyle = "#000000";
    context.fill();
	saveNewBoard(x,y);
    
  }
  </script>
</html>